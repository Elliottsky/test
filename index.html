<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测测你的评价年龄</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }
        label {
            display: block;
            margin: 10px 0;
        }
        .result {
            margin-top: 40px;
            padding: 20px;
            background-color: #eaf5ee;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>测测你的评价年龄</h1>
    
    <!-- 基础信息 -->
    <div class="section">
        <h2>一、基础信息</h2>
        <label for="age">1.实际年龄（18-100岁）：</label>
        <input type="number" id="age" min="18" max="100" required><br>
        
      </label><br>
      <label>2.性别：</label>  
      <label>
            <input type="radio" name="gender" value="male" required> 男性
        </label>
        <label>
            <input type="radio" name="gender" value="female" required> 女性
        </label><br>
        
  <label>3.常住地类型</label> 
        <label>
            <input type="radio" name="location" value="city" required> 城市
        </label>
        <label>
            <input type="radio" name="location" value="rural" required> 乡镇/农村
        </label>
    </div>

    <!-- 饮食模式 -->
    <div class="section">
        <h2>二、饮食模式</h2>
        <!-- 深色蔬菜摄入量 -->
        <label>1.每日深色蔬菜摄入量：（如菠菜、羽衣甘蓝等）</label>
        <div>
            <label>
                <input type="radio" name="vegetables" value="lt100" required> &lt;100g
            </label>
            <label>
                <input type="radio" name="vegetables" value="100-200"> 100-200g
            </label>
            <label>
                <input type="radio" name="vegetables" value="gt200"> ≥200g
            </label>
        </div>

        <!-- 豆类食品摄入频率 -->
        <label>2.豆类食品摄入频率：</label>
        <div>
            <label>
                <input type="radio" name="beans" value="lt1/week" required> &lt;1次/周
            </label>
            <label>
                <input type="radio" name="beans" value="2-4/week"> 2-4次/周
            </label>
            <label>
                <input type="radio" name="beans" value="1/day"> 1次/天
            </label>
        </div>

        <!-- 加工食品摄入占比 -->
        <label>3.每日加工食品摄入占比：</label>
        <div>
            <label>
                <input type="radio" name="processed" value="gt50" required> &gt;50%
            </label>
            <label>
                <input type="radio" name="processed" value="30-50"> 30-50%
            </label>
            <label>
                <input type="radio" name="processed" value="lt30"> &lt;30%
            </label>
        </div>

        <!-- 正餐饱腹程度 -->
        <label>4.正餐时是否吃到80%饱腹即止：</label>
        <div>
            <label>
                <input type="radio" name="eating" value="often-over" required> 经常过量
            </label>
            <label>
                <input type="radio" name="eating" value="occasional-over"> 偶尔过量
            </label>
            <label>
                <input type="radio" name="eating" value="strict-follow"> 严格遵循
            </label>
        </div>
    </div>

    <!-- 身体活动 -->
    <div class="section">
        <h2>三、身体活动</h2>
        <!-- 非刻意运动时长 -->
        <label>1.每日非刻意运动的活动时长（如通勤）：</label>
        <div>
            <label>
                <input type="radio" name="movement" value="lt1h" required> &lt;1小时
            </label>
            <label>
                <input type="radio" name="movement" value="1-3h"> 1-3小时
            </label>
            <label>
                <input type="radio" name="movement" value="gt3h"> &gt;3小时
            </label>
        </div>

        <!-- 久坐中断频率 -->
        <label>2.久坐中断频率：</label>
        <div>
            <label>
                <input type="radio" name="sedentary" value="gt1h" required> &gt;1小时/次
            </label>
            <label>
                <input type="radio" name="sedentary" value="30-60m"> 30-60分钟/次
            </label>
            <label>
                <input type="radio" name="sedentary" value="lt30m"> &lt;30分钟/次
            </label>
        </div>

        <!-- 睡眠时长 -->
        <label>3.每天睡眠时长：</label>
        <div>
            <label>
                <input type="radio" name="sleep" value="lt6h" required> &lt;6小时
            </label>
            <label>
                <input type="radio" name="sleep" value="6-8h"> 6-8小时
            </label>
            <label>
                <input type="radio" name="sleep" value="gt8h"> &gt;8小时
            </label>
        </div>
    </div>

    <!-- 社会心理 -->
    <div class="section">
        <h2>四、社会心理</h2>
        <!-- 亲密朋友数量 -->
        <label>1.亲密朋友数量：</label>
        <div>
            <label>
                <input type="radio" name="friends" value="le2" required> ≤2人
            </label>
            <label>
                <input type="radio" name="friends" value="3-5"> 3-5人
            </label>
            <label>
                <input type="radio" name="friends" value="gt6"> ≥6人
            </label>
        </div>

        <!-- 社区参与频率 -->
        <label>2.社区活动参与频率：</label>
        <div>
            <label>
                <input type="radio" name="community" value="never" required> 从不
            </label>
            <label>
                <input type="radio" name="community" value="monthly"> 每月1-2次
            </label>
            <label>
                <input type="radio" name="community" value="weekly"> 每周≥1次
            </label>
        </div>

        <!-- 每日目标感 -->
        <label>3.每日目标感：</label>
        <div>
            <label>
                <input type="radio" name="goal" value="blurry" required> 模糊
            </label>
            <label>
                <input type="radio" name="goal" value="阶段性"> 阶段性目标
            </label>
            <label>
                <input type="radio" name="goal" value="clear"> 明确
            </label>
        </div>

        <!-- 压力释放方式 -->
        <label>3.压力释放方式：</label>
        <div>
            <label>
                <input type="radio" name="stress" value="bad-method" required> 烟酒/药物
            </label>
            <label>
                <input type="radio" name="stress" value="entertainment"> 娱乐消遣
            </label>
            <label>
                <input type="radio" name="stress" value="natural-therapies"> 自然疗法
            </label>
        </div>
    </div>

    <!-- 环境暴露 -->
    <div class="section">
        <h2>五、环境暴露</h2>
        <!-- 绿地接触频率 -->
        <label>1.绿地接触频率：</label>
        <div>
            <label>
                <input type="radio" name="green" value="lt1/week" required> &lt;1次/周
            </label>
            <label>
                <input type="radio" name="green" value="1-3/week"> 1-3次/周
            </label>
            <label>
                <input type="radio" name="green" value="1+/day"> ≥1次/天
            </label>
        </div>

        <!-- 居住地步行便利度 -->
        <label>2.居住地步行便利度：</label>
        <div>
            <label>
                <input type="radio" name="walk" value="car-dependent" required> 依赖乘车
            </label>
            <label>
                <input type="radio" name="walk" value="partial-walk"> 部分步行
            </label>
            <label>
                <input type="radio" name="walk" value="full-walk"> 完全可步行
            </label>
        </div>

        <!-- 空气污染暴露 -->
        <label>3.空气污染暴露（PM2.5）：</label>
        <div>
            <label>
                <input type="radio" name="pollution" value="gt35" required> &gt;35μg/m³
            </label>
            <label>
                <input type="radio" name="pollution" value="10-35"> 10-35μg/m³
            </label>
            <label>
                <input type="radio" name="pollution" value="lt10"> &lt;10μg/m³
            </label>
        </div>
    </div>

    <button onclick="calculateHealthAge()">提交测算</button>

    <div class="result">
        <h2>评价年龄测算结果</h2>
        <p id="results"></p>
    </div>

    <script>
        function calculateHealthAge() {
            const age = parseInt(document.getElementById('age').value);
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const location = document.querySelector('input[name="location"]:checked').value;

            // 饮食模式得分
            const vegetables = document.querySelector('input[name="vegetables"]:checked').value;
            const beans = document.querySelector('input[name="beans"]:checked').value;
            const processed = document.querySelector('input[name="processed"]:checked').value;
            const eating = document.querySelector('input[name="eating"]:checked').value;

            let dietScore = 0;
            dietScore += vegetables === 'gt200' ? -4 : (vegetables === 'lt100' ? 3 : 0);
            dietScore += beans === '1/day' ? -5 : (beans === 'lt1/week' ? 4 : -2);
            dietScore += processed === 'lt30' ? -3 : (processed === 'gt50' ? 5 : 1);
            dietScore += eating === 'strict-follow' ? -4 : (eating === 'often-over' ? 3 : 1);

            // 身体活动得分
            const movement = document.querySelector('input[name="movement"]:checked').value;
            const sedentary = document.querySelector('input[name="sedentary"]:checked').value;
            const sleep = document.querySelector('input[name="sleep"]:checked').value;

            let activityScore = 0;
            activityScore += movement === 'gt3h' ? -5 : (movement === 'lt1h' ? 4 : -2);
            activityScore += sedentary === 'lt30m' ? -3 : (sedentary === 'gt1h' ? 3 : 0);
            activityScore += sleep === '6-8h' ? -2 : (sleep === 'lt6h' ? 3 : 1);

            // 社会心理得分
            const friends = document.querySelector('input[name="friends"]:checked').value;
            const community = document.querySelector('input[name="community"]:checked').value;
            const goal = document.querySelector('input[name="goal"]:checked').value;
            const stress = document.querySelector('input[name="stress"]:checked').value;

            let socialScore = 0;
            socialScore += friends === 'gt6' ? -4 : (friends === 'le2' ? 5 : 0);
            socialScore += community === 'weekly' ? -3 : (community === 'never' ? 4 : -1);
            socialScore += goal === 'clear' ? -5 : (goal === 'blurry' ? 3 : 0);
            socialScore += stress === 'natural-therapies' ? -4 : (stress === 'bad-method' ? 6 : 1);

            // 环境暴露得分
            const green = document.querySelector('input[name="green"]:checked').value;
            const walk = document.querySelector('input[name="walk"]:checked').value;
            const pollution = document.querySelector('input[name="pollution"]:checked').value;

            let environmentScore = 0;
            environmentScore += green === '1+/day' ? -4 : (green === 'lt1/week' ? 3 : 0);
            environmentScore += walk === 'full-walk' ? -3 : (walk === 'car-dependent' ? 2 : 0);
            environmentScore += pollution === 'lt10' ? -3 : (pollution === 'gt35' ? 5 : 1);

            // 总分计算
            const dietWeight = 0.35;
            const activityWeight = 0.30;
            const socialWeight = 0.20;
            const envWeight = 0.15;
  
          let interesting =(dietScore * dietWeight +
                activityScore * activityWeight +
                socialScore * socialWeight +
                environmentScore * envWeight)*0.1
          
            let rawScore = age + 
                interesting;

            // 性别校准
            let genderAdjusted;
            if (gender === 'male') {
                genderAdjusted = rawScore * 1.05;
            } else {
                genderAdjusted = rawScore * 0.95;
            }

            // 地域校准
            let finalScore;
            if (location === 'city') {
                finalScore = genderAdjusted * 1.05;
            } else {
                finalScore = genderAdjusted * 0.980;
            }

            // 显示结果
            document.getElementById('results').innerHTML = `
                <p>您的实际年龄：${age}岁</p>
                
                <p>您的评价年龄：<strong>${finalScore.toFixed(2)}岁</strong></p>
            `;
        }
    </script>
</body>
</html>
